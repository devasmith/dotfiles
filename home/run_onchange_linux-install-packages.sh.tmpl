{{- if eq .chezmoi.os "linux" -}}
#!/bin/bash
mkdir -p $HOME/.local/bin

# Fedora (dnf) packages
if command -v dnf &> /dev/null; then
    echo "Installing Fedora packages with dnf..."
    sudo dnf install -y $(cat <<EOF
chromium
htop
pipewire-utils
langpacks-en
glibc-all-langpacks
pavucontrol
blueman
playerctl
lxappearance
ipcalc
tcpdump
ncdu
direnv
brightnessctl
shellcheck
fzf
git
git-delta
firefox
fish
rofi
waybar
direnv
wob
mako
golang
atuin
k9s

EOF
)
fi


# Go packages
if command -v go &> /dev/null; then
    if ! command -v clipse &> /dev/null; then
        go install github.com/savedra1/clipse@v1.2.1
    fi
fi

# Fish shell
fish="/usr/bin/fish"

if [[ ! -f "$HOME/.config/fish/functions/fisher.fish" ]]; then
  mkdir -p "$HOME/.config/fish/functions/"
  curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish -o "$HOME/.config/fish/functions/fisher.fish"
fi

fisher_packages=("jethrokuan/z" "IlanCosman/tide@v6" "jethrokuan/fzf" "jhillyerd/plugin-git")

for package in "${fisher_packages[@]}"; do
    $fish -c "fisher install $package"
done

{{ end -}}
